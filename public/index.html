<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒŠ GiÃ¡m sÃ¡t lÆ°u lÆ°á»£ng nÆ°á»›c ESP32</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>ğŸŒŠ GiÃ¡m sÃ¡t lÆ°u lÆ°á»£ng nÆ°á»›c</h1>
        
        <!-- Panel tráº¡ng thÃ¡i káº¿t ná»‘i -->
        <div class="status-panel">
            <div class="status-card">
                <div><span id="wsStatus" class="status-indicator disconnected"></span>WebSocket ESP32</div>
                <div id="wsStatusText">Äang káº¿t ná»‘i...</div>
            </div>
            <div class="status-card">
                <div><span id="fbStatus" class="status-indicator disconnected"></span>Firebase</div>
                <div id="fbStatusText">Äang káº¿t ná»‘i...</div>
            </div>
        </div>
        
        <!-- Hiá»ƒn thá»‹ lÆ°u lÆ°á»£ng -->
        <div class="flow-display">
            <div class="flow-value" id="flowValue">--</div>
            <div class="flow-unit">L/min</div>
        </div>
        
        <!-- Input IP ESP32 -->
        <div class="input-group">
            <input type="text" id="espIP" placeholder="IP ESP32 (192.168.1.xxx)" value="192.168.1.100">
        </div>
        
        <!-- CÃ¡c nÃºt Ä‘iá»u khiá»ƒn -->
        <div class="controls">
            <button onclick="connectWebSocket()">ğŸ”Œ Káº¿t ná»‘i ESP32</button>
            <button onclick="disconnectWebSocket()">âŒ Ngáº¯t káº¿t ná»‘i</button>
            <button onclick="sendTestMessage()">ğŸ“¤ Test message</button>
            <button onclick="clearLog()">ğŸ—‘ï¸ XÃ³a log</button>
        </div>
    </div>
    
    <!-- Panel log -->
    <div class="container">
        <h3>ğŸ“‹ Log káº¿t ná»‘i</h3>
        <div class="log" id="logContainer"></div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <!-- JavaScript chÃ­nh -->
    <script src="script.js"></script>
</body>
</html>
